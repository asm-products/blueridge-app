<div id="app-profile" class="container app-container">
    <div ng-include src="'/views/app/sections/nav.html'"></div>
    <div class="panel">                     
        <h2 class="lead">Hey {{user.fullname.first}},</h2>
        <p class="lead"> You are about to change your subscription to </p> 
        <div ng-include src="'/views/app/sections/go-'+cart.plan+'.html'"></div>
        
        <div ng-if="needsPayment()">
            <h5>Payment Method:</h5>            
            <p ng-if="paymentMethodIsSet()" ><strong>{{subscription.card.type}}</strong> ending in <strong>{{subscription.card.last4}}</strong>, expires <strong>{{subscription.card.exp_month}}/{{subscription.card.exp_year}}</strong></p>            
            <button ng-if="!paymentMethodIsSet()" class="btn btn-mini btn-success btn-purchase" stripe="stripe" callback="addPayment(token)">Add Payment Method</button>
        </div>
        <hr />
        <button class="btn btn-large btn-success" type="submit" ng-disabled="!paymentMethodIsSet()" ng-click="updateSubscription()">Change Plan</button>
        <a class="btn btn-link" ng-href="/app/profile">Nevermind, cancel changes</a>
    </div>
    <div ng-include src="'/views/app/sections/footer.html'"></div>
</div>
